<form id="productForm" action="/admin/addProduct" method="POST" enctype="multipart/form-data" class="bg-[#1f1f1f] p-10 rounded-lg shadow-md max-w-4xl mx-auto font-[sans-serif]">
    <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Product Name</label>
        <input id="product_name" type="text" name="product_name" placeholder="Enter Product Name" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Release Date</label>
        <input id="release_date" type="date" name="release_date" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Genre</label>
        <input id="genre" type="text" name="genre" placeholder="Enter Genre" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Developer Name</label>
        <input id="developer" type="text" name="developer" placeholder="Enter Developer Name" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Category</label>
        <button type="button" id="dropdownToggle" class="border border-gray-700 bg-black text-white px-5 py-2 w-full text-left">
          Dropdown Menu
          <svg xmlns="http://www.w3.org/2000/svg" class="ml-2 inline w-3 fill-white" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M11.99997 18.1669a2.38 2.38 0 0 1-1.68266-.69733l-9.52-9.52a2.38 2.38 0 1 1 3.36532-3.36532l7.83734 7.83734 7.83734-7.83734a2.38 2.38 0 1 1 3.36532 3.36532l-9.52 9.52a2.38 2.38 0 0 1-1.68266.69734z" clip-rule="evenodd" />
          </svg>
        </button>
        <ul id="dropdownMenu" class="absolute z-50 hidden max-h-96 w-full divide-y overflow-auto bg-[#1f1f1f] py-2 shadow-lg text-white">
          <% categories.forEach((category)=>{ %>
          <li name="category" class="cursor-pointer px-5 py-3 text-sm hover:bg-gray-600" onclick="selectCategory('<%= category.collectionName %>')"><%= category.collectionName %></li>
          <% }) %>
        </ul>
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">PEGI Rating</label>
        <input id="PEGI" name="PEGI" type="number" placeholder="Enter age limit" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required min="0" />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Quantity</label>
        <input id="stock" type="number" name="stock" placeholder="Enter the stock" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required min="0" />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Price</label>
        <input id="price" type="number" name="price" placeholder="Enter price" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required min="1" />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Discount</label>
        <input id="discount" type="number" name="discount" placeholder="Enter discount percentage" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required min="0" max="100" />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Gameplay Hour</label>
        <input id="game_Play_hour" type="number" name="game_Play_hour" placeholder="Enter hour" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required min="1" />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Country of Origin</label>
        <input id="country_of_orgin" type="text" name="country_of_orgin" placeholder="Enter country name" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Publisher</label>
        <input id="publisher" name="publisher" type="text" placeholder="Enter Publisher name" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Playable on</label>
        <input id="playable_on" type="text" name="playable_on" placeholder="Enter Playable devices" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required />
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Trailer</label>
        <input id="trailer_link" type="url" name="trailer_link" placeholder="Enter Trailer link" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500" required />
      </div>
  
      <!-- Internet Requirement radio -->
      <div class="relative">
        <label class="block text-white text-sm">Internet Requirement</label>
        <div class="mt-2 flex items-center">
          <input class="mr-2" type="radio" id="yes" name="internet_requirement" value="yes" required />
          <label for="yes" class="text-white">Yes</label>
  
          <input class="ml-6 mr-2" type="radio" id="no" name="internet_requirement" value="no" required />
          <label for="no" class="text-white">No</label>
        </div>
      </div>
  
      <div class="relative">
        <label class="absolute left-3 top-[-10px] bg-[#1f1f1f] px-2 text-sm text-white">Product Description</label>
        <textarea id="product_description" name="product_description" placeholder="Enter description" class="w-full rounded border border-gray-700 bg-black text-white px-4 py-3 focus:outline-none focus:border-blue-500 h-28" required></textarea>
      </div>
    </div>
  
    <div class="mt-8">
      <label for="imageUpload" class="block text-white">Upload Images (Select exactly 3 images)</label>
      <input id="imageUpload" type="file" name="image" accept="image/*" multiple required />
    </div>
  
    <button type="submit" class="mt-6 w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 focus:outline-none">Submit</button>
  </form>
  
  <script>
    // Select category from dropdown
    function selectCategory(category) {
      document.getElementById('dropdownToggle').textContent = category;
      document.getElementById('dropdownMenu').classList.add('hidden');
    }
  
    // Toggle dropdown visibility
    document.getElementById('dropdownToggle').addEventListener('click', function() {
      const dropdownMenu = document.getElementById('dropdownMenu');
      dropdownMenu.classList.toggle('hidden');
    });
  
    // Form validation
    document.getElementById('productForm').addEventListener('submit', function(e) {
      const youtubeLink = document.getElementById('trailer_link').value;
      const imageFiles = document.getElementById('imageUpload').files;
  
      // YouTube link validation
      const youtubeRegex = /^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+$/;
      if (!youtubeRegex.test(youtubeLink)) {
        alert('Please enter a valid YouTube link.');
        e.preventDefault();
        return;
      }
  
      // Image upload validation (exactly 3 images)
      if (imageFiles.length !== 3) {
        alert('Please upload exactly 3 images.');
        e.preventDefault();
      }
    });
  </script>
  